<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>case, cond, and if - Elixir</title>
  <link href="http://feeds.feedburner.com/ElixirLang" rel="alternate" title="Elixir's Blog" type="application/atom+xml" />
  <link rel="stylesheet" type="text/css" href="/css/style.css" />
  <link rel="stylesheet" type="text/css" href="/css/syntax.css" />
  <link rel="stylesheet" href="/js/icons/style.css">
  <!--[if lt IE 8]><!-->
  <link rel="stylesheet" href="/js/icons/ie7/ie7.css">
  <!--<![endif]-->
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" id="font-bitter-css" href="//fonts.googleapis.com/css?family=Bitter:400,700" type="text/css" media="screen" />
  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="search" type="application/opensearchdescription+xml" title="elixir-lang.org" href="/opensearch.xml" />
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8268430-6', 'auto');
  ga('send', 'pageview');
  </script>
  <!-- Begin Jekyll SEO tag v2.2.3 -->
<meta property="og:title" content="case, cond, and if" />
<meta property="og:locale" content="en_US" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"WebPage","headline":"case, cond, and if","url":"/ja/getting-started/case-cond-and-if.html"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body class="">
  <div id="container">
    <div class="wrap">
    <div id="header">
      <div id="branding">
        <a id="site-title" href="/" title="Elixir" rel="Home">
          <img class="logo" src="/images/logo/logo.png" alt="Elixir Logo" />
        </a>
      </div>

      <div id="menu-primary" class="menu-container">
        <div class="menu">
          <ul id="menu-primary-items">
            <li class="menu-item home"><a class="spec" href="/">Home</a></li>
            <li class="menu-item install"><a class="spec" href="/install.html">Install</a></li>
            <li class="menu-item getting-started"><a class="spec" href="/getting-started/introduction.html">Guides</a></li>
            <li class="menu-item learning"><a class="spec" href="/learning.html">Learning</a></li>
            <li class="menu-item docs"><a class="spec" href="/docs.html">Docs</a></li>
            <li class="menu-item blog"><a class="spec" href="/blog/">Blog</a></li>
            <li class="menu-item packages"><a class="spec" href="https://hex.pm/">Packages</a></li>
          </ul>
        </div>
      </div>

      <div class="clear"></div>
    </div>

    <div id="main">


<div id="sidebar-primary" class="sidebar">
  <div class="widget news">
  <h3>
    News: <a href="/blog/2017/07/25/elixir-v1-5-0-released/">Elixir v1.5 released</a>
  </h3>
</div>

<div class="widget search">
  <form method="get" id="search-form" class="search-form" action="https://www.google.com/search">
		<div>
			<input class="search-text" type="text" name="q" placeholder="Search..." id="searchfield" aria-label="Search box">
			<input type="hidden" name="sitesearch" value="elixir-lang.org">
			<input class="search-submit button" name="submit" type="submit" value="Search" aria-label="Search button">
		</div>
	</form>
</div>

  <div id="try-elixir" class="widget">
  <a href="https://www.codeschool.com/courses/try-elixir?utm_source=elixir_home&utm_medium=referral">
      <div class="try-elixir-cta">
        <div class="try-elixir-copy">Learn Elixir in your browser for free!</div>
      </div>
  </a>
</div>


  
  
    <div class="widget">
     <h3 class="widget-title">Getting Started</h3>
      <ol>
        
          <li><a class="spec" href="/getting-started/introduction.html" title="Introduction">Introduction</a></li>
        
          <li><a class="spec" href="/getting-started/basic-types.html" title="Basic types">Basic types</a></li>
        
          <li><a class="spec" href="/getting-started/basic-operators.html" title="Basic operators">Basic operators</a></li>
        
          <li><a class="spec" href="/getting-started/pattern-matching.html" title="Pattern matching">Pattern matching</a></li>
        
          <li><a class="spec" href="/getting-started/case-cond-and-if.html" title="case, cond and if">case, cond and if</a></li>
        
          <li><a class="spec" href="/getting-started/binaries-strings-and-char-lists.html" title="Binaries, strings and char lists">Binaries, strings and char lists</a></li>
        
          <li><a class="spec" href="/getting-started/keywords-and-maps.html" title="Keywords and maps">Keywords and maps</a></li>
        
          <li><a class="spec" href="/getting-started/modules-and-functions.html" title="Modules and Functions">Modules and Functions</a></li>
        
          <li><a class="spec" href="/getting-started/recursion.html" title="Recursion">Recursion</a></li>
        
          <li><a class="spec" href="/getting-started/enumerables-and-streams.html" title="Enumerables and streams">Enumerables and streams</a></li>
        
          <li><a class="spec" href="/getting-started/processes.html" title="Processes">Processes</a></li>
        
          <li><a class="spec" href="/getting-started/io-and-the-file-system.html" title="IO and the file system">IO and the file system</a></li>
        
          <li><a class="spec" href="/getting-started/alias-require-and-import.html" title="alias, require and import">alias, require and import</a></li>
        
          <li><a class="spec" href="/getting-started/module-attributes.html" title="Module attributes">Module attributes</a></li>
        
          <li><a class="spec" href="/getting-started/structs.html" title="Structs">Structs</a></li>
        
          <li><a class="spec" href="/getting-started/protocols.html" title="Protocols">Protocols</a></li>
        
          <li><a class="spec" href="/getting-started/comprehensions.html" title="Comprehensions">Comprehensions</a></li>
        
          <li><a class="spec" href="/getting-started/sigils.html" title="Sigils">Sigils</a></li>
        
          <li><a class="spec" href="/getting-started/try-catch-and-rescue.html" title="try, catch and rescue">try, catch and rescue</a></li>
        
          <li><a class="spec" href="/getting-started/typespecs-and-behaviours.html" title="Typespecs and behaviours">Typespecs and behaviours</a></li>
        
          <li><a class="spec" href="/getting-started/erlang-libraries.html" title="Erlang libraries">Erlang libraries</a></li>
        
          <li><a class="spec" href="/getting-started/where-to-go-next.html" title="Where to go next">Where to go next</a></li>
        
      </ol>
    </div>
  
    <div class="widget">
     <h3 class="widget-title">Mix and OTP</h3>
      <ol>
        
          <li><a class="spec" href="/getting-started/mix-otp/introduction-to-mix.html" title="Introduction to Mix">Introduction to Mix</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/agent.html" title="Agent">Agent</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/genserver.html" title="GenServer">GenServer</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/supervisor-and-application.html" title="Supervisor and Application">Supervisor and Application</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/ets.html" title="ETS">ETS</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/dependencies-and-umbrella-apps.html" title="Dependencies and umbrella apps">Dependencies and umbrella apps</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/task-and-gen-tcp.html" title="Task and gen-tcp">Task and gen-tcp</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/docs-tests-and-with.html" title="Docs, tests and with">Docs, tests and with</a></li>
        
          <li><a class="spec" href="/getting-started/mix-otp/distributed-tasks-and-configuration.html" title="Distributed tasks and configuration">Distributed tasks and configuration</a></li>
        
      </ol>
    </div>
  
    <div class="widget">
     <h3 class="widget-title">Meta-programming in Elixir</h3>
      <ol>
        
          <li><a class="spec" href="/getting-started/meta/quote-and-unquote.html" title="Quote and unquote">Quote and unquote</a></li>
        
          <li><a class="spec" href="/getting-started/meta/macros.html" title="Macros">Macros</a></li>
        
          <li><a class="spec" href="/getting-started/meta/domain-specific-languages.html" title="Domain Specific Languages">Domain Specific Languages</a></li>
        
      </ol>
    </div>
  

  <div id="elixir-radar" class="widget">
  <h3 class="widget-title">Elixir Radar Newsletter</h3>
  <p>A weekly Elixir email newsletter with content curated by Plataformatec.</p>
  <div class="elixir-radar-cta">
    <div class="cta-copy">
      <div class="cta-title">
        Elixir Radar
      </div>
      <div class="cta-subtitle">
        weekly newsletter
      </div>
    </div>
    <div class="cta-button-container">
      <a href="http://plataformatec.com.br/elixir-radar/weekly-newsletter?utm_campaign=elixir_lang_cta&utm_medium=cta&utm_source=elixir_lang_website" class="cta-button">
        Subscribe now
      </a>
    </div>
  </div>
</div>

  <div id="distilled-by" class="widget">
  <h3 class="widget-title">Created at</h3>
  <ul>
    <li class="image"><a href="http://plataformatec.com.br" title="Plataformatec"><img src="/images/logo/plataformatec.png" alt="Plataformatec Logo" width="190" height="74" /></a></li>
  </ul>

  <p>
    <a class="spec" href="http://plataformatec.com.br">Plataformatec</a> offers consulting and development services for companies using Elixir.
  </p>
</div>

</div>

<div id="content">
  <article>
    <h1 id="case-cond-and-if">case, cond, and if</h1>

<div id="toc" class="toc"></div>

<p>In this chapter, we will learn about the <code class="highlighter-rouge">case</code>, <code class="highlighter-rouge">cond</code>, and <code class="highlighter-rouge">if</code> control flow structures.</p>

<h2 id="case"><code class="highlighter-rouge">case</code></h2>

<p><code class="highlighter-rouge">case</code> allows us to compare a value against many patterns until we find a matching one:</p>

<pre><code class="language-iex">iex&gt; case {1, 2, 3} do
...&gt;   {4, 5, 6} -&gt;
...&gt;     "This clause won't match"
...&gt;   {1, x, 3} -&gt;
...&gt;     "This clause will match and bind x to 2 in this clause"
...&gt;   _ -&gt;
...&gt;     "This clause would match any value"
...&gt; end
"This clause will match and bind x to 2 in this clause"
</code></pre>

<p>If you want to pattern match against an existing variable, you need to use the <code class="highlighter-rouge">^</code> operator:</p>

<pre><code class="language-iex">iex&gt; x = 1
1
iex&gt; case 10 do
...&gt;   ^x -&gt; "Won't match"
...&gt;   _ -&gt; "Will match"
...&gt; end
"Will match"
</code></pre>

<p>Clauses also allow extra conditions to be specified via guards:</p>

<pre><code class="language-iex">iex&gt; case {1, 2, 3} do
...&gt;   {1, x, 3} when x &gt; 0 -&gt;
...&gt;     "Will match"
...&gt;   _ -&gt;
...&gt;     "Would match, if guard condition were not satisfied"
...&gt; end
"Will match"
</code></pre>

<p>The first clause above will only match when <code class="highlighter-rouge">x</code> is positive.</p>

<p>Keep in mind errors in guards do not leak but simply make the guard fail:</p>

<pre><code class="language-iex">iex&gt; hd(1)
** (ArgumentError) argument error
iex&gt; case 1 do
...&gt;   x when hd(x) -&gt; "Won't match"
...&gt;   x -&gt; "Got #{x}"
...&gt; end
"Got 1"
</code></pre>

<p>If none of the clauses match, an error is raised:</p>

<pre><code class="language-iex">iex&gt; case :ok do
...&gt;   :error -&gt; "Won't match"
...&gt; end
** (CaseClauseError) no case clause matching: :ok
</code></pre>

<p>Consult <a href="/docs/master/elixir/guards.html">the full documentation for guards</a> for more information about guards, how they are used, and what expressions are allowed in them.</p>

<p>Note anonymous functions can also have multiple clauses and guards:</p>

<pre><code class="language-iex">iex&gt; f = fn
...&gt;   x, y when x &gt; 0 -&gt; x + y
...&gt;   x, y -&gt; x * y
...&gt; end
#Function&lt;12.71889879/2 in :erl_eval.expr/5&gt;
iex&gt; f.(1, 3)
4
iex&gt; f.(-1, 3)
-3
</code></pre>

<p>The number of arguments in each anonymous function clause needs to be the same, otherwise an error is raised.</p>

<pre><code class="language-iex">iex&gt; f2 = fn
...&gt;   x, y when x &gt; 0 -&gt; x + y
...&gt;   x, y, z -&gt; x * y + z
...&gt; end
** (CompileError) iex:1: cannot mix clauses with different arities in function definition
</code></pre>

<h2 id="cond"><code class="highlighter-rouge">cond</code></h2>

<p><code class="highlighter-rouge">case</code> is useful when you need to match against different values. However, in many circumstances, we want to check different conditions and find the first one that evaluates to true. In such cases, one may use <code class="highlighter-rouge">cond</code>:</p>

<pre><code class="language-iex">iex&gt; cond do
...&gt;   2 + 2 == 5 -&gt;
...&gt;     "This will not be true"
...&gt;   2 * 2 == 3 -&gt;
...&gt;     "Nor this"
...&gt;   1 + 1 == 2 -&gt;
...&gt;     "But this will"
...&gt; end
"But this will"
</code></pre>

<p>This is equivalent to <code class="highlighter-rouge">else if</code> clauses in many imperative languages (although used way less frequently here).</p>

<p>If none of the conditions return true, an error (<code class="highlighter-rouge">CondClauseError</code>) is raised. For this reason, it may be necessary to add a final condition, equal to <code class="highlighter-rouge">true</code>, which will always match:</p>

<pre><code class="language-iex">iex&gt; cond do
...&gt;   2 + 2 == 5 -&gt;
...&gt;     "This is never true"
...&gt;   2 * 2 == 3 -&gt;
...&gt;     "Nor this"
...&gt;   true -&gt;
...&gt;     "This is always true (equivalent to else)"
...&gt; end
"This is always true (equivalent to else)"
</code></pre>

<p>Finally, note <code class="highlighter-rouge">cond</code> considers any value besides <code class="highlighter-rouge">nil</code> and <code class="highlighter-rouge">false</code> to be true:</p>

<pre><code class="language-iex">iex&gt; cond do
...&gt;   hd([1, 2, 3]) -&gt;
...&gt;     "1 is considered as true"
...&gt; end
"1 is considered as true"
</code></pre>

<h2 id="if-and-unless"><code class="highlighter-rouge">if</code> and <code class="highlighter-rouge">unless</code></h2>

<p>Besides <code class="highlighter-rouge">case</code> and <code class="highlighter-rouge">cond</code>, Elixir also provides the macros <code class="highlighter-rouge">if/2</code> and <code class="highlighter-rouge">unless/2</code> which are useful when you need to check for only one condition:</p>

<pre><code class="language-iex">iex&gt; if true do
...&gt;   "This works!"
...&gt; end
"This works!"
iex&gt; unless true do
...&gt;   "This will never be seen"
...&gt; end
nil
</code></pre>

<p>If the condition given to <code class="highlighter-rouge">if/2</code> returns <code class="highlighter-rouge">false</code> or <code class="highlighter-rouge">nil</code>, the body given between <code class="highlighter-rouge">do/end</code> is not executed and instead it returns <code class="highlighter-rouge">nil</code>. The opposite happens with <code class="highlighter-rouge">unless/2</code>.</p>

<p>They also support <code class="highlighter-rouge">else</code> blocks:</p>

<pre><code class="language-iex">iex&gt; if nil do
...&gt;   "This won't be seen"
...&gt; else
...&gt;   "This will"
...&gt; end
"This will"
</code></pre>

<blockquote>
  <p>Note: An interesting note regarding <code class="highlighter-rouge">if/2</code> and <code class="highlighter-rouge">unless/2</code> is that they are implemented as macros in the language; they aren’t special language constructs as they would be in many languages. You can check the documentation and the source of <code class="highlighter-rouge">if/2</code> in <a href="https://hexdocs.pm/elixir/Kernel.html">the <code class="highlighter-rouge">Kernel</code> module docs</a>. The <code class="highlighter-rouge">Kernel</code> module is also where operators like <code class="highlighter-rouge">+/2</code> and functions like <code class="highlighter-rouge">is_function/2</code> are defined, all automatically imported and available in your code by default.</p>
</blockquote>

<h2 id="doend-blocks"><code class="highlighter-rouge">do/end</code> blocks</h2>

<p>At this point, we have learned four control structures: <code class="highlighter-rouge">case</code>, <code class="highlighter-rouge">cond</code>, <code class="highlighter-rouge">if</code>, and <code class="highlighter-rouge">unless</code>, and they were all wrapped in <code class="highlighter-rouge">do/end</code> blocks. It happens we could also write <code class="highlighter-rouge">if</code> as follows:</p>

<pre><code class="language-iex">iex&gt; if true, do: 1 + 2
3
</code></pre>

<p>Notice how the example above has a comma between <code class="highlighter-rouge">true</code> and <code class="highlighter-rouge">do:</code>, that’s because it is using Elixir’s regular syntax where each argument is separated by comma. We say this syntax is using <em>keyword lists</em>. We can pass <code class="highlighter-rouge">else</code> using keywords too:</p>

<pre><code class="language-iex">iex&gt; if false, do: :this, else: :that
:that
</code></pre>

<p><code class="highlighter-rouge">do/end</code> blocks are a syntactic convenience built on top of the keywords one. That’s why <code class="highlighter-rouge">do/end</code> blocks do not require a comma between the previous argument and the block. They are useful exactly because they remove the verbosity when writing blocks of code. These are equivalent:</p>

<pre><code class="language-iex">iex&gt; if true do
...&gt;   a = 1 + 2
...&gt;   a + 10
...&gt; end
13
iex&gt; if true, do: (
...&gt;   a = 1 + 2
...&gt;   a + 10
...&gt; )
13
</code></pre>

<p>One thing to keep in mind when using <code class="highlighter-rouge">do/end</code> blocks is they are always bound to the outermost function call. For example, the following expression:</p>

<pre><code class="language-iex">iex&gt; is_number if true do
...&gt;  1 + 2
...&gt; end
** (CompileError) undefined function: is_number/2
</code></pre>

<p>Would be parsed as:</p>

<pre><code class="language-iex">iex&gt; is_number(if true) do
...&gt;  1 + 2
...&gt; end
** (CompileError) undefined function: is_number/2
</code></pre>

<p>which leads to an undefined function error because that invocation passes two arguments, and <code class="highlighter-rouge">is_number/2</code> does not exist. The <code class="highlighter-rouge">if true</code> expression is invalid in itself because it needs the block, but since the arity of <code class="highlighter-rouge">is_number/2</code> does not match, Elixir does not even reach its evaluation.</p>

<p>Adding explicit parentheses is enough to bind the block to <code class="highlighter-rouge">if</code>:</p>

<pre><code class="language-iex">iex&gt; is_number(if true do
...&gt;  1 + 2
...&gt; end)
true
</code></pre>

<p>Keyword lists play an important role in the language and are quite common in many functions and macros. We will explore them a bit more in a future chapter. Now it is time to talk about “Binaries, strings, and char lists”.</p>

  </article><!-- .hfeed -->

  <div id="edit-on-github">
    <span>Is something wrong?</span>
    <a href="/edit/master/ja/getting-started/case-cond-and-if.markdown">
      Edit this page on GitHub.
    </a>
  </div>

  
  
  
  
  

  
  
    
  
    
  
    
  

</div><!-- #content -->

      </div><!-- #main -->

      <div class="clear"></div>

      <div id="copyright">
        &copy; 2012–2017 <a href="http://plataformatec.com.br/">Plataformatec</a>. All rights reserved.
      </div>
    </div><!-- .wrap -->
  </div><!-- #container -->

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="/js/toc/toc.js" type="text/javascript" charset="utf-8"></script>
  <script type="text/javascript">
    $(document).ready(function() {
      $('.toc').toc({
        title: '',
        listType: 'ol',
        minimumHeaders: 2,
        headers: 'h2, h3, h4, h5, h6',
        linkHere: true,
        linkHereTitle: 'Link here',
        backToTop: true,
        backToTopId: 'toc',
        backToTopTitle: 'Back to Table of Contents',
      });
      $('.jekyll-toc-header a.jekyll-toc-link-here span.jekyll-toc-icon').addClass('icon icon-link');
      $('.jekyll-toc-header a.jekyll-toc-back-to-top span.jekyll-toc-icon').addClass('icon icon-chevron-up');
    });
  </script>
</body>
</html>

